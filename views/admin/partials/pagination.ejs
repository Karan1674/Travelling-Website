
<div class="pagination-wrap">
    <nav class="pagination-inner">
        <ul class="pagination <%= currentPage === 1 ? 'disabled' : '' %>">
            <li class="page-item">
                <% if (currentPage === 1) { %>
                    <span class="page-link"><i class="fas fa-chevron-left"></i></span>
                <% } else { %>
                    <a class="page-link" href="?page=<%= currentPage - 1 %><%= search ? '&search=' + encodeURIComponent(search) : '' %><%= statusFilter ? '&statusFilter=' + encodeURIComponent(statusFilter) : ''%>"><i class="fas fa-chevron-left"></i></a>
                <% } %>
            </li>
            <% 
                const maxPagesToShow = 5;
                let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));
                let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);
                if (endPage - startPage < maxPagesToShow - 1) {
                    startPage = Math.max(1, endPage - maxPagesToShow + 1);
                }
                for (let i = startPage; i <= endPage; i++) { 
            %>
                <li class="page-item <%= i === parseInt(currentPage) ? 'active' : '' %>">
                    <a class="page-link" href="?page=<%= i %><%= search ? '&search=' + encodeURIComponent(search) : '' %><%= statusFilter ? '&statusFilter=' + encodeURIComponent(statusFilter) : ''%>"><%= i %></a>
                </li>
            <% } %>
            <li class="page-item <%= currentPage === totalPages ? 'disabled' : '' %>">
                <% if (currentPage === totalPages) { %>
                    <span class="page-link"><i class="fas fa-chevron-right"></i></span>
                <% } else { %>
                    <a class="page-link" href="?page=<%= currentPage + 1 %><%= search ? '&search=' + encodeURIComponent(search) : '' %><%= statusFilter ? '&statusFilter=' + encodeURIComponent(statusFilter) : ''%>"><i class="fas fa-chevron-right"></i></a>
                <% } %>
            </li>
        </ul>
    </nav>
</div>